import{e as y,C as b,o as c,c as d,b as x,a as e,d as r,j as u,u as s,x as k,F as _,y as m,t as f,A as w,n as S,p as V,l as T}from"./app-9e071959.js";import{T as U}from"./Toast-36deffb8.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css            */const i=l=>(V("data-v-775c0ace"),l=l(),T(),l),N={id:"new-post-section",class:"section"},A=i(()=>e("h2",null,"Add a New Spot",-1)),D={class:"form-container"},I={class:"form-group"},M=i(()=>e("label",{for:"title"},"Title",-1)),B={class:"form-group"},F=i(()=>e("label",{for:"category"},"Category",-1)),P=["value"],E={class:"form-group"},L=i(()=>e("label",{for:"location_name"},"Location (Address)",-1)),$={class:"address-container"},j={class:"form-group"},z=i(()=>e("label",{class:"form-label mb-2"},"Recommended Visit Time",-1)),Q={class:"d-flex flex-wrap gap-2"},R=["value","id"],q=["for"],G={class:"form-group"},H=i(()=>e("label",{for:"description"},"Description",-1)),J={class:"form-group"},K=i(()=>e("label",{for:"image-upload"},"Image Upload (Max:2MB)",-1)),O={__name:"Newpost",props:{categories:Array},setup(l){const p=y(null),o=b({title:"",category:"",location_name:"",latitude:"",longitude:"",description:"",visit_time:[],status:"public",images:[]}),g=n=>{n.target.files.length?o.images=Array.from(n.target.files):o.images=[]},h=()=>{console.log(o),o.post("/posts",{forceFormData:!0,onSuccess:()=>{console.log("Post store successfully"),o.reset()},onError:n=>{p.value.triggerToast(n,"error")}})};return(n,a)=>(c(),d(_,null,[x(U,{ref_key:"toast",ref:p},null,512),e("section",N,[A,e("div",D,[e("div",I,[M,r(e("input",{type:"text",id:"title","onUpdate:modelValue":a[0]||(a[0]=t=>s(o).title=t),placeholder:"e.g., Quiet Park"},null,512),[[u,s(o).title]])]),e("div",B,[F,r(e("select",{id:"category","onUpdate:modelValue":a[1]||(a[1]=t=>s(o).category=t)},[(c(!0),d(_,null,m(l.categories,t=>(c(),d("option",{key:t,value:t},f(t),9,P))),128))],512),[[k,s(o).category]])]),e("div",E,[L,e("div",$,[r(e("input",{type:"text",id:"location_name","onUpdate:modelValue":a[2]||(a[2]=t=>s(o).location_name=t),placeholder:"e.g., Shibuya, Tokyo"},null,512),[[u,s(o).location_name]])])]),e("div",j,[z,e("div",Q,[(c(),d(_,null,m(["morning","afternoon","evening","night","anytime"],t=>e("div",{key:t,class:"form-check-inline"},[r(e("input",{class:"btn-check",type:"checkbox",value:t,"onUpdate:modelValue":a[3]||(a[3]=v=>s(o).visit_time=v),id:`time-${t}`,autocomplete:"off"},null,8,R),[[w,s(o).visit_time]]),e("label",{class:S(["btn btn-outline-secondary",{active:s(o).visit_time.includes(t)}]),for:`time-${t}`},f(t),11,q)])),64))])]),e("div",G,[H,r(e("textarea",{id:"description","onUpdate:modelValue":a[4]||(a[4]=t=>s(o).description=t),placeholder:"Describe the charm of this spot"},null,512),[[u,s(o).description]])]),e("div",J,[K,e("input",{type:"file",id:"image-upload",onChange:g},null,32)]),e("button",{class:"btn btn-success",onClick:h},"Submit")])])],64))}},ee=C(O,[["__scopeId","data-v-775c0ace"]]);export{ee as default};
