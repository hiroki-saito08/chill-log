import{s as x,l as h,C as y,o as r,f as c,a as k,b as s,t as d,h as n,e as P,g as p,v as b,u as e,j as C,F as B,B as I,p as M,i as S}from"./app-d94a43b2.js";import{T as V}from"./Toast-5c114e58.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";/* empty css            */const t=_=>(M("data-v-524b6864"),_=_(),S(),_),N=t(()=>s("h3",null,"Profile",-1)),T={key:0,class:"text-center mt-5"},F=["src"],U={key:1,class:"profile-pic text-center mt-3"},D={class:"d-flex justify-content-center"},j={class:"card p-4 w-100",style:{"max-width":"600px"}},$={class:"row mb-2"},q=t(()=>s("div",{class:"col-4 fw-bold text-start"},"Name:",-1)),z={class:"col-8 text-start"},A={class:"row mb-2"},G=t(()=>s("div",{class:"col-4 fw-bold text-start"},"Email:",-1)),H={class:"col-8 text-start"},J={class:"row mb-2"},K=t(()=>s("div",{class:"col-4 fw-bold text-start"},"Bio:",-1)),L={class:"col-8 text-start"},O={key:0,class:"mb-3"},Q=["src"],R={key:0,class:"modal-backdrop-custom"},W={class:"modal d-block",tabindex:"-1"},X={class:"modal-dialog modal-dialog-centered modal-lg"},Y={class:"modal-content"},Z=t(()=>s("h5",{class:"modal-title"},"Edit Profile",-1)),ss={class:"modal-body"},os={class:"mb-3"},es=t(()=>s("label",{class:"form-label"},"Bio",-1)),ts={class:"form-check mt-1"},ls=t(()=>s("label",{class:"form-check-label",for:"clearBio"},"Clear bio (delete)",-1)),as={key:0,class:"text-danger"},is={class:"mb-4"},rs=t(()=>s("h4",{class:"form-label"},"Profile Image (Max:2MB)",-1)),cs={key:0,class:"text-danger"},ds={class:"password-edit mt-4"},ns=t(()=>s("h4",null,"Password",-1)),_s={class:"mt-4 mb-4"},ms=t(()=>s("label",{class:"form-label"},"New Password",-1)),us={key:0,class:"text-danger"},ps={class:"mb-3"},fs=t(()=>s("label",{class:"form-label"},"Confirm Password",-1)),bs=t(()=>s("button",{type:"submit",class:"btn"},"Save Changes",-1)),vs={__name:"Profile",setup(_){const a=x(()=>I().props.auth.user),m=h(!1),f=h(null),o=y({bio:a.bio??"",clear_bio:!1,profile_image:null,new_password:"",new_password_confirmation:""});function w(u){o.profile_image=u.target.files[0]}function g(){o.post(route("mypage.update"),{forceFormData:!0,onSuccess:()=>{m.value=!1,f.value.triggerToast("Profile updated successfully")},onError:u=>{f.value.triggerToast(u,"error")}})}function v(){m.value=!1,o.reset()}return(u,l)=>(r(),c(B,null,[k(V,{ref_key:"toast",ref:f},null,512),s("div",null,[N,a.value.profile_image?(r(),c("div",T,[s("img",{src:`/storage/${a.value.profile_image}`,alt:"Profile Image",class:"profile-pic"},null,8,F)])):(r(),c("div",U)),s("div",D,[s("div",j,[s("div",$,[q,s("div",z,d(a.value.name),1)]),s("div",A,[G,s("div",H,d(a.value.email),1)]),s("div",J,[K,s("div",L,d(a.value.bio),1)]),a.value.profile_image_url?(r(),c("div",O,[s("img",{src:a.value.profile_image_url,class:"img-thumbnail",alt:"Profile Image",style:{"max-width":"200px"}},null,8,Q)])):n("",!0),s("button",{class:"btn mt-5",onClick:l[0]||(l[0]=i=>m.value=!0)},"Edit Profile")])])]),m.value?(r(),c("div",R,[s("div",W,[s("div",X,[s("div",Y,[s("div",{class:"modal-header"},[Z,s("button",{type:"button",class:"btn-close",onClick:v})]),s("div",ss,[s("form",{onSubmit:P(g,["prevent"]),enctype:"multipart/form-data"},[s("div",os,[es,p(s("textarea",{"onUpdate:modelValue":l[1]||(l[1]=i=>e(o).bio=i),class:"form-control",rows:"3"},null,512),[[b,e(o).bio]]),s("div",ts,[ls,p(s("input",{type:"checkbox",class:"form-check-input",id:"clearBio","onUpdate:modelValue":l[2]||(l[2]=i=>e(o).clear_bio=i)},null,512),[[C,e(o).clear_bio]])]),e(o).errors.bio?(r(),c("div",as,d(e(o).errors.bio),1)):n("",!0)]),s("div",is,[rs,s("input",{type:"file",onChange:w,class:"form-control"},null,32),e(o).errors.profile_image?(r(),c("div",cs,d(e(o).errors.profile_image),1)):n("",!0)]),s("div",ds,[ns,s("div",_s,[ms,p(s("input",{type:"password","onUpdate:modelValue":l[3]||(l[3]=i=>e(o).new_password=i),class:"form-control"},null,512),[[b,e(o).new_password]]),e(o).errors.new_password?(r(),c("div",us,d(e(o).errors.new_password),1)):n("",!0)]),s("div",ps,[fs,p(s("input",{type:"password","onUpdate:modelValue":l[4]||(l[4]=i=>e(o).new_password_confirmation=i),class:"form-control"},null,512),[[b,e(o).new_password_confirmation]])])]),s("div",{class:"modal-footer px-0"},[s("button",{type:"button",class:"btn cancel-btn",onClick:v},"Cancel"),bs])],32)])])])])])):n("",!0)],64))}},ys=E(vs,[["__scopeId","data-v-524b6864"]]);export{ys as default};
